<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIASEG Inspeção de Sinistros</title>
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
    <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
    <div class="container">
        <div class="logo-group">
            <img src="assets/logo_cut.png" class="logo-img" alt="Logo CIASEG">
            <h1 class="logo-title">CIASEG Inspeção de Sinistros</h1>
        </div>

        <nav class="nav-menu">
            <a href="#sobre">Sobre</a>
            <a href="#servicos">Valores</a>
            <a href="#clientes">Clientes</a>
            <a href="#contato">Contato</a>
            <a class="restrito-btn" href="restrito.html">Portal</a>
        </nav>

        <button class="hamburger" id="hamburger" aria-label="Abrir menu" aria-expanded="false">
            <span></span><span></span><span></span>
        </button>
    </div>
</header>

<section class="hero">
    <div class="container">
        <br>
        <h3>Excelência em sindicâncias e suporte às seguradoras desde 1996.</h3>
        <br>
        <p>Há quase três décadas, a CIASEG atua com seriedade, eficiência e precisão na apuração de sinistros em todo o território nacional.</p>
        <p>Nossa equipe altamente qualificada oferece assessoria completa aos departamentos de sinistros, garantindo segurança, agilidade e credibilidade em cada etapa do processo.</p>
        <br><br>
        <a href="restrito.html" class="cta-button">Portal Sindicantes</a>
        <br><br>
        <h2>Soluções eficientes e seguras para sua necessidade.</h2>
        <p>Profissionalismo, transparência e tecnologia a serviço de processos organizados.</p>
        <br>
    </div>
</section>

<section id="sobre" class="section reveal">
    <div class="container">
        <img src="assets/logo.png" alt="Logo CIASEG" class="sobre-logo reveal-item">

        <h2 class="reveal-item">Sobre a Empresa</h2>
        <p class="reveal-item">Fundada em 1996, a CIASEG é referência em assessoria e suporte aos departamentos de sinistros de seguradoras, com o objetivo de fornecer elementos comprobatórios precisos para uma avaliação justa e conclusiva de indenizações pleiteadas.</p>
        <p class="reveal-item">Dirigida por profissionais altamente qualificados e com ampla experiência no mercado segurador, a CIASEG atua em todo o território nacional, realizando sindicâncias com qualidade, ética e eficiência. Nosso trabalho é voltado para proteger as seguradoras de possíveis prejuízos morais e financeiros, sempre com total transparência e profissionalismo.</p>
        <p class="reveal-item">Garantimos prazo para a conclusão das sindicâncias, monitoramento contínuo do andamento de cada processo, atualização sobre a evolução das etapas do agendamento das entrevistas e/ou obtenção dos termos de autorização necessários para as pesquisas médicas e de campo.</p>
        <p class="reveal-item">Disponibilizamos relatório preliminar, assegurando agilidade, clareza e confiança em todas as etapas do serviço.</p>
        <br>
        <h2 class="reveal-item">Missão</h2>
        <p class="reveal-item">Garantir às seguradoras total segurança e precisão no processo de análise de sinistros por meio de sindicâncias criteriosas, conduzidas com rigor técnico, elevado padrão profissional, atuando na obtenção de documentos e evidências que sustentam decisões justas e conclusivas, preservando nossos clientes de riscos, prejuízos e incertezas.</p>
        <br>
        <h2 class="reveal-item">Visão</h2>
        <p class="reveal-item">Ser reconhecida nacionalmente como a principal referência em sindicâncias e assessoria técnica para departamentos de sinistros, destacando-nos pela confiabilidade dos nossos processos, pela solidez das informações apresentadas e pela capacidade de contribuir diretamente para a eficiência, integridade e segurança das operações das seguradoras.</p>
    </div>
</section>

<section id="servicos" class="section alt">
    <div class="container">
        <h2>Valores</h2>

        <ul class="servicos-list">
            <li>
                <h3>Ética e Integridade</h3>
                <p>Conduzimos todas as nossas atividades com honestidade, responsabilidade e respeito, assegurando relações transparentes e de confiança mútua.</p>
            </li>

            <li>
                <h3>Excelência Técnica</h3>
                <p>Contamos com profissionais altamente qualificados e experientes no mercado segurador, comprometidos com a precisão e o rigor necessários para análises confiáveis.</p>
            </li>

            <li>
                <h3>Rigor Investigativo</h3>
                <p>Desenvolvemos sindicâncias completas e aprofundadas, obtendo documentos e evidências que sustentam decisões fundamentadas.</p>
            </li>
        </ul>
        
        <ul class="servicos-list">
            <li>
                <h3>Eficiência Operacional</h3>
                <p>Atuamos em todo o território nacional com agilidade, organização e precisão, oferecendo resultados consistentes dentro dos prazos estabelecidos.</p>
            </li> 
            
            <li>
                <h3>Compromisso com o Cliente</h3>
                <p>Nosso trabalho é pautado na proteção dos interesses das seguradoras, agregando valor, segurança e tranquilidade aos seus processos de indenização.</p>
            </li>
            
            <li>
                <h3>Transparência e Confiabilidade</h3>
                <p>Zelamos pela clareza e objetividade em cada etapa dos nossos serviços, reforçando a credibilidade e a segurança que entregamos há décadas ao mercado.</p>
            </li>
        </ul>

    </div>
</section>

<!-- CLIENTES (marquee contínuo via WAAPI, tooltip e pause-on-click, sem setas) -->
<section id="clientes" class="section clientes-section">
    <div class="container">
        <h2>Nossos Clientes</h2>

        <!-- wrapper estreito e harmonioso -->
        <div class="carousel-wrapper narrow" id="carousel-wrapper" tabindex="0" aria-label="Carrossel de logos de clientes">
            <!-- track container (vai conter track + clone) -->
            <div class="carousel-track-wrap" id="carousel-track-wrap" aria-hidden="false">
                <div class="carousel-track" id="carousel-track" role="list">
                    <img src="assets/brasilseg_logo.jpg" alt="BRASILSEG COMPANHIA DE SEGUROS" data-caption="BRASILSEG" role="listitem">
                    <img src="assets/capemisa_seguradora_logo.jpg" alt="CAPEMISA SEGURADORA DE VIDA E PREVIDÊNCIA S/A" data-caption="Capemisa Seguradora" role="listitem">
                    <img src="assets/icatu_seguros_logo.jpg" alt="ICATU SEGUROS S.A" data-caption="Icatu Seguros" role="listitem">
                    <img src="assets/itauseguros_logo.jpg" alt="ITAÚ SEGUROS S.A" data-caption="Itaú Seguros" role="listitem">
                    <img src="assets/yelumseguradorabr_logo.jpg" alt="YELUM SEGURADORA" data-caption="Yelum Seguradora" role="listitem">
                    <img src="assets/mag_seguros_logo.jpg" alt="MONGERAL AEGON SEGUROS E PREVIDÊNCIA S.A" data-caption="Mongeral Aegon" role="listitem">
                    <img src="assets/mapfre_logo.jpg" alt="MAPFRE VIDA S.A" data-caption="Mapfre" role="listitem">
                    <img src="assets/metlife_logo.jpg" alt="METLIFE - METROPOLITAN LIFE SEGUROS E PREVIDÊNCIA PRIVADA S.A" data-caption="MetLife" role="listitem">
                    <img src="assets/omintseguros_logo.jpg" alt="OMINT SEGUROS S.A" data-caption="Omint Seguros" role="listitem">
                    <img src="assets/previsul_seguradora_logo.jpg" alt="PREVISUL - COMPANHIA DE SEGUROS PREVIDENCIA DO SUL" data-caption="Previsul" role="listitem">
                    <img src="assets/sulamerica_logo.jpg" alt="SUL AMERICA SEGUROS DE VIDA E PREV. S.A" data-caption="SulAmérica" role="listitem">
                    <img src="assets/porto_seguro_logo.jpg" alt="PORTO SEGURO COMPANHIA DE SEGUROS GERAIS" data-caption="Porto Seguro" role="listitem">
                    <img src="assets/prudentialdobrasil_logo.jpg" alt="PRUDENTIAL DO BRASIL SEGUROS DE VIDA S.A" data-caption="Prudential do Brasil" role="listitem">
                    <img src="assets/safra_logo.jpg" alt="SAFRA VIDA E PREVIDÊNCIA S/A" data-caption="Safra Vida" role="listitem">
                    <img src="assets/tokio_marine_seguradora_s_a_logo.jpg" alt="TOKIO MARINE SEGURADORA S.A" data-caption="Tokio Marine" role="listitem">
                    <img src="assets/unimedseguradora_logo.jpg" alt="UNIMED SEGURADORA S/A" data-caption="Unimed Seguradora" role="listitem">
                    <img src="assets/xpseguros_logo.jpg" alt="XP VIDA E PREVIDÊNCIA S.A" data-caption="XP Seguros" role="listitem">
                    <img src="assets/zurich_logo.jpg" alt="ZURICH SANTANDER BRASIL SEGUROS E PREVIDÊNCIA S/A" data-caption="Zurich" role="listitem">
                </div>
                <!-- clone será inserido automaticamente via JS -->
            </div>

            <!-- tooltip / legenda estilizada -->
            <div id="carousel-tooltip" role="tooltip" aria-hidden="true"></div>
        </div>
    </div>
</section>

<section id="contato" class="section alt">
    <div class="container">
        <h2>Fale Conosco</h2>
        <p>Para dúvidas, suporte ou solicitações, envie-nos um e-mail:</p>
        <a href="mailto:contato@ciasegsinistros.com.br?Subject=Contato Site CIASEG Inspeção de Sinistros" class="email-btn">
            contato@ciasegsinistros.com.br
        </a>
    </div>
</section>

<footer>
    <p>© 2025 CIASEG Inspeção de Sinistros — Todos os direitos reservados.</p>
</footer>

<script>
/* -------------------------
   Menu hamburger (corrigido)
   ------------------------- */
const hamb = document.getElementById("hamburger");
const menu = document.querySelector(".nav-menu");
if (hamb && menu) {
    hamb.addEventListener("click", () => {
        const expanded = hamb.getAttribute("aria-expanded") === "true";
        hamb.setAttribute("aria-expanded", String(!expanded));
        hamb.classList.toggle("active");
        menu.classList.toggle("active");
    });
}

/* -------------------------
   Reveal items (mantive)
   ------------------------- */
const reveals = document.querySelectorAll(".reveal-item");
window.addEventListener("scroll", () => {
    for (let i = 0; i < reveals.length; i++) {
        const windowHeight = window.innerHeight;
        const revealTop = reveals[i].getBoundingClientRect().top;
        if (revealTop < windowHeight - 150) {
            setTimeout(() => {
                reveals[i].classList.add("active");
            }, i * 150);
        }
    }
});

/* ========================================================
   MARQUEE CONTÍNUO via WAAPI (duplicação do track + swipe)
   - tooltip on hover/focus (does NOT pause)
   - click on image toggles pause/resume
   - swipe/drag support (pointer events)
   ======================================================== */

function loadImagesFully(images, callback) {
    if (!images || images.length === 0) return callback();
    let loaded = 0;
    images.forEach(img => {
        if (img.complete && img.naturalWidth > 0) {
            loaded++;
            if (loaded === images.length) callback();
        } else {
            img.addEventListener('load', () => {
                loaded++;
                if (loaded === images.length) callback();
            }, { once: true });
            img.addEventListener('error', () => {
                loaded++;
                if (loaded === images.length) callback();
            }, { once: true });
        }
    });
}

document.addEventListener("DOMContentLoaded", () => {
    const wrapper = document.getElementById('carousel-wrapper');
    const wrapInner = document.getElementById('carousel-track-wrap');
    const track = document.getElementById('carousel-track');
    const tooltip = document.getElementById('carousel-tooltip');

    if (!wrapper || !track || !wrapInner) return;

    const images = Array.from(track.querySelectorAll('img'));
    images.forEach(img => img.setAttribute('tabindex', '0')); // acessibilidade

    // settings: px per second (ajuste aqui)
    const pxPerSecond = 90; // quanto maior, mais rápido
    let animation = null;
    let duration = 0;
    let trackWidth = 0;
    let isUserPaused = false; // toggle via click
    let isPointerDown = false;
    let pointerStartX = 0;
    let manualOffset = 0; // in px relative to animation
    let raf = null;

    loadImagesFully(images, initialize);

    function initialize() {
        // clone the track for seamless marquee
        const clone = track.cloneNode(true);
        clone.id = 'carousel-track-clone';
        wrapInner.appendChild(clone);

        // measure width of original track (full content)
        trackWidth = track.scrollWidth;

        // if no overflow, do nothing (just keep static display)
        if (trackWidth <= wrapper.clientWidth) {
            attachImageHandlers(); // still attach tooltips / click handlers
            return;
        }

        // compute duration so that speed ~ pxPerSecond
        duration = Math.max(3000, Math.round((trackWidth / pxPerSecond) * 1000)); // ms

        // create WAAPI animation on wrapInner (translateX from 0 to -trackWidth)
        // note: animate the wrapInner element that contains track + clone
        const keyframes = [
            { transform: 'translateX(0px)' },
            { transform: `translateX(-${trackWidth}px)` }
        ];

        animation = wrapInner.animate(keyframes, {
            duration: duration,
            iterations: Infinity,
            easing: 'linear'
        });

        // ensure running at start
        animation.play();

        // attach handlers for tooltip, click-to-pause, drag/swipe
        attachImageHandlers();
        attachPointerHandlers();
        attachKeyboardHandlers();

        // responsive: recalc on resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(rebuildAnimation, 200);
        });
    }

    function rebuildAnimation() {
        // Stop and remove possible clone
        if (!track) return;
        // remove clone if exists
        const existingClone = document.getElementById('carousel-track-clone');
        if (existingClone) existingClone.remove();

        // re-clone and reinitialize animation with new measurements
        const clone = track.cloneNode(true);
        clone.id = 'carousel-track-clone';
        wrapInner.appendChild(clone);

        // new measurements
        trackWidth = track.scrollWidth;
        if (animation) {
            try { animation.cancel(); } catch (e) {}
            animation = null;
        }

        if (trackWidth <= wrapper.clientWidth) return;

        duration = Math.max(3000, Math.round((trackWidth / pxPerSecond) * 1000));

        const keyframes = [
            { transform: 'translateX(0px)' },
            { transform: `translateX(-${trackWidth}px)` }
        ];

        animation = wrapInner.animate(keyframes, {
            duration: duration,
            iterations: Infinity,
            easing: 'linear'
        });

        // set currentTime according to manualOffset (if user dragged)
        if (manualOffset) {
            // normalize manualOffset to [0, trackWidth)
            let norm = ((-manualOffset) % trackWidth + trackWidth) % trackWidth;
            const nt = (norm / trackWidth) * duration;
            animation.currentTime = nt;
        }

        if (!isUserPaused) animation.play();
        attachImageHandlers(); // reattach if necessary
    }

    function attachImageHandlers() {
        const imgs = Array.from(track.querySelectorAll('img'));
        imgs.forEach(img => {
            const caption = img.getAttribute('data-caption') || img.getAttribute('alt') || '';
            // hover / focus => tooltip (does NOT pause)
            img.addEventListener('mouseenter', (e) => {
                showTooltip(e.currentTarget);
            });
            img.addEventListener('mouseleave', () => {
                hideTooltip();
            });
            img.addEventListener('focus', (e) => {
                showTooltip(e.currentTarget);
            });
            img.addEventListener('blur', () => {
                hideTooltip();
            });

            // click => toggle pause/resume (user pause)
            img.addEventListener('click', (e) => {
                e.stopPropagation();
                isUserPaused = !isUserPaused;
                if (animation) {
                    if (isUserPaused) {
                        animation.pause();
                        // visual feedback
                        img.classList.add('paused');
                    } else {
                        animation.play();
                        img.classList.remove('paused');
                    }
                }
            });
        });
    }

    function attachKeyboardHandlers() {
        // allow wrapper keyboard control: space to toggle pause
        wrapper.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                isUserPaused = !isUserPaused;
                if (animation) {
                    if (isUserPaused) animation.pause(); else animation.play();
                }
            }
        });
    }

    function attachPointerHandlers() {
        // pointer events (supports touch + mouse)
        wrapper.addEventListener('pointerdown', onPointerDown, { passive: true });

        function onPointerDown(e) {
            // Only primary button / touch
            if (e.isPrimary === false) return;
            isPointerDown = true;
            pointerStartX = e.clientX;
            // pause animation for manual dragging
            if (animation) {
                animation.pause();
            }
            // compute current transform offset (from animation or manual offset)
            const computed = getTranslateX(wrapInner);
            manualOffset = computed; // starting offset
            wrapper.setPointerCapture(e.pointerId);

            wrapper.addEventListener('pointermove', onPointerMove, { passive: false });
            wrapper.addEventListener('pointerup', onPointerUp);
            wrapper.addEventListener('pointercancel', onPointerUp);
        }

        function onPointerMove(e) {
            if (!isPointerDown) return;
            // prevent page scrolling while dragging horizontally
            e.preventDefault();
            const dx = e.clientX - pointerStartX;
            const newOffset = manualOffset + dx;
            // apply transform directly for instant feedback
            wrapInner.style.transform = `translateX(${newOffset}px)`;
        }

        function onPointerUp(e) {
            if (!isPointerDown) return;
            isPointerDown = false;
            wrapper.removeEventListener('pointermove', onPointerMove);
            wrapper.removeEventListener('pointerup', onPointerUp);
            wrapper.removeEventListener('pointercancel', onPointerUp);
            try { wrapper.releasePointerCapture(e.pointerId); } catch (e) {}
            // compute final offset from inline style or computed style
            const finalOffset = getTranslateX(wrapInner);
            // normalize into [0, trackWidth)
            let norm = ((-finalOffset) % trackWidth + trackWidth) % trackWidth;
            // set animation currentTime accordingly and resume if not user paused
            if (animation) {
                animation.currentTime = (norm / trackWidth) * duration;
                // remove inline transform so animation controls visual again
                wrapInner.style.transform = '';
                if (!isUserPaused) animation.play();
            }
        }
    }

    /* Tooltip logic */
    function showTooltip(imgEl) {
        const caption = imgEl.getAttribute('data-caption') || imgEl.getAttribute('alt') || '';
        if (!caption) return;
        tooltip.textContent = caption;
        tooltip.setAttribute('aria-hidden', 'false');
        tooltip.style.opacity = '1';

        // position tooltip centered above image relative to wrapper
        const imgRect = imgEl.getBoundingClientRect();
        const wrapRect = wrapper.getBoundingClientRect();
        const center = (imgRect.left + imgRect.right) / 2;
        const left = center - wrapRect.left;
        tooltip.style.left = `${left}px`;
        tooltip.style.transform = 'translateX(-50%) translateY(-12px)';
    }

    function hideTooltip() {
        tooltip.style.opacity = '0';
        tooltip.setAttribute('aria-hidden', 'true');
    }

    /* helper: get numeric translateX of element (considers inline style first) */
    function getTranslateX(el) {
        // prefer inline style if present
        const inline = el.style.transform;
        if (inline && inline.indexOf('translateX') !== -1) {
            const m = inline.match(/translateX\((-?\d+(?:\.\d+)?)px\)/);
            if (m) return parseFloat(m[1]);
        }
        // else computed style
        const style = window.getComputedStyle(el);
        const transform = style.transform;
        if (!transform || transform === 'none') return 0;
        // matrix(a, b, c, d, tx, ty)
        const vals = transform.match(/matrix\((.+)\)/);
        if (vals) {
            const parts = vals[1].split(',').map(s => parseFloat(s.trim()));
            // tx is parts[4]
            if (parts.length === 6) return parts[4];
        }
        return 0;
    }
});
</script>

</body>
</html>
