<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIASEG Inspe√ß√£o de Sinistros</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- HEADER -->
<header>
    <div class="container">
        <div class="logo-group">
            <img src="assets/logo_cut.png" class="logo-img" alt="Logo CIASEG">
            <h1 class="logo-title">CIASEG Inspe√ß√£o de Sinistros</h1>
        </div>

        <nav class="nav-menu" id="nav-menu">
            <a href="#sobre">Sobre</a>
            <a href="#servicos">Valores</a>
            <a href="#clientes">Clientes</a>
            <a href="#contato">Contato</a>
            <a class="restrito-btn" href="restrito.html">Portal</a>
        </nav>

        <button class="hamburger" id="hamburger" aria-label="Abrir menu" aria-expanded="false">
            <span></span><span></span><span></span>
        </button>
    </div>
</header>

<!-- HERO -->
<section class="hero">
    <div class="content">
        <h3>Excel√™ncia em sindic√¢ncias e suporte √†s seguradoras desde 1996.</h3>
        <p>H√° quase tr√™s d√©cadas, a CIASEG atua com seriedade, efici√™ncia e precis√£o na apura√ß√£o de sinistros em todo o territ√≥rio nacional.</p>
        <p>Nossa equipe altamente qualificada oferece assessoria completa aos departamentos de sinistros, garantindo seguran√ßa, agilidade e credibilidade em cada etapa do processo.</p>
        <a href="restrito.html" class="cta-button">Portal Sindicantes</a>
        <br>
        <h3>Solu√ß√µes eficientes e seguras para sua necessidade.</h3>
        <p>Profissionalismo, transpar√™ncia e tecnologia a servi√ßo de processos organizados.</p>
    </div>
</section>

<!-- SOBRE -->
<section id="sobre" class="section reveal">
    <div class="container grid-2">
        <img src="assets/logo.png" class="sobre-img reveal-item" alt="Imagem institucional CIASEG">

        <div class="reveal-item">
            
            <h2>Sobre a Empresa</h2>
            <p>Fundada em 1996, a CIASEG √© refer√™ncia em assessoria e suporte aos departamentos de sinistros de seguradoras, com o objetivo de fornecer elementos comprobat√≥rios precisos para uma avalia√ß√£o justa e conclusiva de indeniza√ß√µes pleiteadas.</p>

            <p>Dirigida por profissionais altamente qualificados e com ampla experi√™ncia no mercado segurador, a CIASEG atua em todo o territ√≥rio nacional, realizando sindic√¢ncias com qualidade, √©tica e efici√™ncia. Nosso trabalho √© voltado para proteger as seguradoras de poss√≠veis preju√≠zos morais e financeiros, sempre com total transpar√™ncia e profissionalismo.</p>

            <p>Garantimos prazo para a conclus√£o das sindic√¢ncias, monitoramento cont√≠nuo do andamento de cada processo, atualiza√ß√£o sobre a evolu√ß√£o das etapas do agendamento das entrevistas e/ou obten√ß√£o dos termos de autoriza√ß√£o necess√°rios para as pesquisas m√©dicas e de campo.</p>

            <p>Disponibilizamos relat√≥rio preliminar, assegurando agilidade, clareza e confian√ßa em todas as etapas do servi√ßo.</p>

            <h2>Miss√£o</h2>
            <p>Garantir √†s seguradoras total seguran√ßa e precis√£o no processo de an√°lise de sinistros por meio de sindic√¢ncias criteriosas, conduzidas com rigor t√©cnico e elevado padr√£o profissional.</p>

            <h2>Vis√£o</h2>
            <p>Ser reconhecida nacionalmente como a principal refer√™ncia em sindic√¢ncias e assessoria t√©cnica para departamentos de sinistros.</p>
        </div>
    </div>
</section>

<!-- VALORES -->
<section id="servicos" class="section alt">
    <div class="container">
        <h2>Valores</h2>

        <div class="valores-grid">

            <div class="card reveal-item">
                <h3><span class="icon">üõ°</span> √âtica e Integridade</h3>
                <p>Conduzimos nossas atividades com honestidade, responsabilidade e respeito.</p>
            </div>

            <div class="card reveal-item">
                <h3><span class="icon">üèÖ</span> Excel√™ncia T√©cnica</h3>
                <p>Equipe qualificada e experiente, garantindo an√°lises confi√°veis.</p>
            </div>

            <div class="card reveal-item">
                <h3><span class="icon">üîé</span> Rigor Investigativo</h3>
                <p>Sindic√¢ncias completas, com coleta de documentos e evid√™ncias.</p>
            </div>

            <div class="card reveal-item">
                <h3><span class="icon">‚öôÔ∏è</span> Efici√™ncia Operacional</h3>
                <p>Atua√ß√£o √°gil, organizada e precisa em todo o territ√≥rio nacional.</p>
            </div>

            <div class="card reveal-item">
                <h3><span class="icon">ü§ù</span> Compromisso com o Cliente</h3>
                <p>Prote√ß√£o dos interesses das seguradoras com foco e responsabilidade.</p>
            </div>

            <div class="card reveal-item">
                <h3><span class="icon">üìë</span> Transpar√™ncia e Confiabilidade</h3>
                <p>Clareza e objetividade em cada etapa do processo.</p>
            </div>
        </div>
    </div>
</section>

<!-- CLIENTES -->
<section id="clientes" class="section clientes-section">
    <div class="container">
        <h2>Nossos Clientes</h2>

        <!-- SEU MARQUEE WAAPI COMPLETO -->
        <div class="carousel-wrapper narrow" id="carousel-wrapper" tabindex="0" aria-label="Carrossel de logos de clientes">
            <div class="carousel-track-wrap" id="carousel-track-wrap" aria-hidden="false">
                <div class="carousel-track" id="carousel-track" role="list">

                    <!-- Todos os seus logos mantidos -->
                    <img src="assets/brasilseg_logo.jpg" data-caption="Brasilseg">
                    <img src="assets/capemisa_seguradora_logo.jpg" data-caption="Capemisa">
                    <img src="assets/icatu_seguros_logo.jpg" data-caption="Icatu">
                    <img src="assets/itauseguros_logo.jpg" data-caption="Ita√∫">
                    <img src="assets/mag_seguros_logo.jpg" data-caption="MAG Seguros">
                    <img src="assets/mapfre_logo.jpg" data-caption="Mapfre">
                    <img src="assets/metlife_logo.jpg" data-caption="MetLife">
                    <img src="assets/omintseguros_logo.jpg" data-caption="Omint">
                    <img src="assets/porto_seguro_logo.jpg" data-caption="Porto Seguro">
                    <img src="assets/previsul_seguradora_logo.jpg" data-caption="Previsul">
                    <img src="assets/prudentialdobrasil_logo.jpg" data-caption="Prudential">
                    <img src="assets/safra_logo.jpg" data-caption="Safra">
                    <img src="assets/unimedseguradora_logo.jpg" data-caption="Unimed">
                    <img src="assets/sulamerica_logo.jpg" data-caption="SulAm√©rica">
                    <img src="assets/tokio_marine_seguradora_s_a_logo.jpg" data-caption="Tokio Marine">
                    <img src="assets/xpseguros_logo.jpg" data-caption="XP Seguros">
                    <img src="assets/yelumseguradorabr_logo.jpg" data-caption="Yelum">
                    <img src="assets/zurich_logo.jpg" data-caption="Zurich">
                </div>
            </div>

            <div id="carousel-tooltip" role="tooltip" aria-hidden="true"></div>
        </div>
    </div>
</section>

<!-- CONTATO -->
<section id="contato" class="section contato">
    <div class="container">
        <h2>Fale Conosco</h2>
        <p>Envie um e-mail diretamente para nossa equipe:</p>

        <a href="mailto:contato@ciasegsinistros.com.br?Subject=Contato Site CIASEG Inspe√ß√£o de Sinistros" class="email-btn">
            contato@ciasegsinistros.com.br
        </a>
    </div>
</section>

<!-- FOOTER -->
<footer>
    <p>¬© 2025 CIASEG Inspe√ß√£o de Sinistros ‚Äî Todos os direitos reservados.</p>
</footer>

<script>
/* -------------------------
   Menu hamburger (corrigido)
   ------------------------- */
const hamb = document.getElementById("hamburger");
const menu = document.querySelector(".nav-menu");
if (hamb && menu) {
    hamb.addEventListener("click", () => {
        const expanded = hamb.getAttribute("aria-expanded") === "true";
        hamb.setAttribute("aria-expanded", String(!expanded));
        hamb.classList.toggle("active");
        menu.classList.toggle("active");
    });
}

/* -------------------------
   Reveal items (mantive)
   ------------------------- */
const reveals = document.querySelectorAll(".reveal-item");
window.addEventListener("scroll", () => {
    for (let i = 0; i < reveals.length; i++) {
        const windowHeight = window.innerHeight;
        const revealTop = reveals[i].getBoundingClientRect().top;
        if (revealTop < windowHeight - 150) {
            setTimeout(() => {
                reveals[i].classList.add("active");
            }, i * 150);
        }
    }
});

/* ========================================================
   MARQUEE CONT√çNUO via WAAPI (duplica√ß√£o do track + swipe)
   - tooltip on hover/focus (does NOT pause)
   - click on image toggles pause/resume
   - swipe/drag support (pointer events)
   ======================================================== */

function loadImagesFully(images, callback) {
    if (!images || images.length === 0) return callback();
    let loaded = 0;
    images.forEach(img => {
        if (img.complete && img.naturalWidth > 0) {
            loaded++;
            if (loaded === images.length) callback();
        } else {
            img.addEventListener('load', () => {
                loaded++;
                if (loaded === images.length) callback();
            }, { once: true });
            img.addEventListener('error', () => {
                loaded++;
                if (loaded === images.length) callback();
            }, { once: true });
        }
    });
}

document.addEventListener("DOMContentLoaded", () => {
    const wrapper = document.getElementById('carousel-wrapper');
    const wrapInner = document.getElementById('carousel-track-wrap');
    const track = document.getElementById('carousel-track');
    const tooltip = document.getElementById('carousel-tooltip');

    if (!wrapper || !track || !wrapInner) return;

    const images = Array.from(track.querySelectorAll('img'));
    images.forEach(img => img.setAttribute('tabindex', '0')); // acessibilidade

    // settings: px per second (ajuste aqui)
    const pxPerSecond = 90; // quanto maior, mais r√°pido
    let animation = null;
    let duration = 0;
    let trackWidth = 0;
    let isUserPaused = false; // toggle via click
    let isPointerDown = false;
    let pointerStartX = 0;
    let manualOffset = 0; // in px relative to animation
    let raf = null;

    loadImagesFully(images, initialize);

    function initialize() {
        // clone the track for seamless marquee
        const clone = track.cloneNode(true);
        clone.id = 'carousel-track-clone';
        wrapInner.appendChild(clone);

        // measure width of original track (full content)
        trackWidth = track.scrollWidth;

        // if no overflow, do nothing (just keep static display)
        if (trackWidth <= wrapper.clientWidth) {
            attachImageHandlers(); // still attach tooltips / click handlers
            return;
        }

        // compute duration so that speed ~ pxPerSecond
        duration = Math.max(3000, Math.round((trackWidth / pxPerSecond) * 1000)); // ms

        // create WAAPI animation on wrapInner (translateX from 0 to -trackWidth)
        // note: animate the wrapInner element that contains track + clone
        const keyframes = [
            { transform: 'translateX(0px)' },
            { transform: `translateX(-${trackWidth}px)` }
        ];

        animation = wrapInner.animate(keyframes, {
            duration: duration,
            iterations: Infinity,
            easing: 'linear'
        });

        // ensure running at start
        animation.play();

        // attach handlers for tooltip, click-to-pause, drag/swipe
        attachImageHandlers();
        attachPointerHandlers();
        attachKeyboardHandlers();

        // responsive: recalc on resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(rebuildAnimation, 200);
        });
    }

    function rebuildAnimation() {
        // Stop and remove possible clone
        if (!track) return;
        // remove clone if exists
        const existingClone = document.getElementById('carousel-track-clone');
        if (existingClone) existingClone.remove();

        // re-clone and reinitialize animation with new measurements
        const clone = track.cloneNode(true);
        clone.id = 'carousel-track-clone';
        wrapInner.appendChild(clone);

        // new measurements
        trackWidth = track.scrollWidth;
        if (animation) {
            try { animation.cancel(); } catch (e) {}
            animation = null;
        }

        if (trackWidth <= wrapper.clientWidth) return;

        duration = Math.max(3000, Math.round((trackWidth / pxPerSecond) * 1000));

        const keyframes = [
            { transform: 'translateX(0px)' },
            { transform: `translateX(-${trackWidth}px)` }
        ];

        animation = wrapInner.animate(keyframes, {
            duration: duration,
            iterations: Infinity,
            easing: 'linear'
        });

        // set currentTime according to manualOffset (if user dragged)
        if (manualOffset) {
            // normalize manualOffset to [0, trackWidth)
            let norm = ((-manualOffset) % trackWidth + trackWidth) % trackWidth;
            const nt = (norm / trackWidth) * duration;
            animation.currentTime = nt;
        }

        if (!isUserPaused) animation.play();
        attachImageHandlers(); // reattach if necessary
    }

    function attachImageHandlers() {
        const imgs = Array.from(track.querySelectorAll('img'));
        imgs.forEach(img => {
            const caption = img.getAttribute('data-caption') || img.getAttribute('alt') || '';
            // hover / focus => tooltip (does NOT pause)
            img.addEventListener('mouseenter', (e) => {
                showTooltip(e.currentTarget);
            });
            img.addEventListener('mouseleave', () => {
                hideTooltip();
            });
            img.addEventListener('focus', (e) => {
                showTooltip(e.currentTarget);
            });
            img.addEventListener('blur', () => {
                hideTooltip();
            });

            // click => toggle pause/resume (user pause)
            img.addEventListener('click', (e) => {
                e.stopPropagation();
                isUserPaused = !isUserPaused;
                if (animation) {
                    if (isUserPaused) {
                        animation.pause();
                        // visual feedback
                        img.classList.add('paused');
                    } else {
                        animation.play();
                        img.classList.remove('paused');
                    }
                }
            });
        });
    }

    function attachKeyboardHandlers() {
        // allow wrapper keyboard control: space to toggle pause
        wrapper.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                isUserPaused = !isUserPaused;
                if (animation) {
                    if (isUserPaused) animation.pause(); else animation.play();
                }
            }
        });
    }

    function attachPointerHandlers() {
        // pointer events (supports touch + mouse)
        wrapper.addEventListener('pointerdown', onPointerDown, { passive: true });

        function onPointerDown(e) {
            // Only primary button / touch
            if (e.isPrimary === false) return;
            isPointerDown = true;
            pointerStartX = e.clientX;
            // pause animation for manual dragging
            if (animation) {
                animation.pause();
            }
            // compute current transform offset (from animation or manual offset)
            const computed = getTranslateX(wrapInner);
            manualOffset = computed; // starting offset
            wrapper.setPointerCapture(e.pointerId);

            wrapper.addEventListener('pointermove', onPointerMove, { passive: false });
            wrapper.addEventListener('pointerup', onPointerUp);
            wrapper.addEventListener('pointercancel', onPointerUp);
        }

        function onPointerMove(e) {
            if (!isPointerDown) return;
            // prevent page scrolling while dragging horizontally
            e.preventDefault();
            const dx = e.clientX - pointerStartX;
            const newOffset = manualOffset + dx;
            // apply transform directly for instant feedback
            wrapInner.style.transform = `translateX(${newOffset}px)`;
        }

        function onPointerUp(e) {
            if (!isPointerDown) return;
            isPointerDown = false;
            wrapper.removeEventListener('pointermove', onPointerMove);
            wrapper.removeEventListener('pointerup', onPointerUp);
            wrapper.removeEventListener('pointercancel', onPointerUp);
            try { wrapper.releasePointerCapture(e.pointerId); } catch (e) {}
            // compute final offset from inline style or computed style
            const finalOffset = getTranslateX(wrapInner);
            // normalize into [0, trackWidth)
            let norm = ((-finalOffset) % trackWidth + trackWidth) % trackWidth;
            // set animation currentTime accordingly and resume if not user paused
            if (animation) {
                animation.currentTime = (norm / trackWidth) * duration;
                // remove inline transform so animation controls visual again
                wrapInner.style.transform = '';
                if (!isUserPaused) animation.play();
            }
        }
    }

    /* Tooltip logic */
    function showTooltip(imgEl) {
        const caption = imgEl.getAttribute('data-caption') || imgEl.getAttribute('alt') || '';
        if (!caption) return;
        tooltip.textContent = caption;
        tooltip.setAttribute('aria-hidden', 'false');
        tooltip.style.opacity = '1';

        // position tooltip centered above image relative to wrapper
        const imgRect = imgEl.getBoundingClientRect();
        const wrapRect = wrapper.getBoundingClientRect();
        const center = (imgRect.left + imgRect.right) / 2;
        const left = center - wrapRect.left;
        tooltip.style.left = `${left}px`;
        tooltip.style.transform = 'translateX(-50%) translateY(-12px)';
    }

    function hideTooltip() {
        tooltip.style.opacity = '0';
        tooltip.setAttribute('aria-hidden', 'true');
    }

    /* helper: get numeric translateX of element (considers inline style first) */
    function getTranslateX(el) {
        // prefer inline style if present
        const inline = el.style.transform;
        if (inline && inline.indexOf('translateX') !== -1) {
            const m = inline.match(/translateX\((-?\d+(?:\.\d+)?)px\)/);
            if (m) return parseFloat(m[1]);
        }
        // else computed style
        const style = window.getComputedStyle(el);
        const transform = style.transform;
        if (!transform || transform === 'none') return 0;
        // matrix(a, b, c, d, tx, ty)
        const vals = transform.match(/matrix\((.+)\)/);
        if (vals) {
            const parts = vals[1].split(',').map(s => parseFloat(s.trim()));
            // tx is parts[4]
            if (parts.length === 6) return parts[4];
        }
        return 0;
    }
});
</script>

</body>
</html>
